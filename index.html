<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>PDFsquid API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Szukaj">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/pdfsquid'>PDFsquid Libraries</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>Welcome in our API documentation! Now converting HTML to PDF or images is easy as never. In following sections you will find out how to:</p>

<ul>
<li>convert HTML code to PDF or image (jpg, png)</li>
<li>convert any website by URL to PDF or image (jpg, png)</li>
</ul>

<p>PDFsquid allows you to explore wide range of available features:</p>

<ul>
<li>custom header and footer with parameters (site/sites number)</li>
<li>watermarking (stampling and background)</li>
<li>support for javascript execution with window.status support or custom timeout (eg in JS images loading)</li>
<li>custom POST, headers and cookies propagation</li>
<li>support for basic auth</li>
<li>custom PDF metadata</li>
<li>PDF encryption and permissions management</li>
<li>asynchronous requests for massive conversions</li>
<li>upload done conversions to specified cloud bucket (S3, GCS)</li>
<li>manage user access permissions to dashboard</li>
<li>create projects</li>
</ul>

<p>In the following sections you will learn how to set up account, add new API access, cloud storage bucket, new user accesses and debug your integration.</p>

          <h1 id="dashboard">Dashboard</h1>

<h3 id="register">Register</h3>

<p>Please register to PDFsquid if you do not have an account already.</p>

<p><code class="prettyprint">https://dashboard.pdfsquid.com</code></p>

<p>After verifying your email address you get access to dashboard. We will create a default project for you - starting with name <code class="prettyprint">Demo project ...</code>. You can change it in Menu-&gt;Project settings.</p>

<h2 id="navigation">Navigation</h2>

<p>Switch between projects with drop down selector on toolbar. Left menu navigation works in context with current selected project. Your account settings actions are hooked with the round button in top right window corner.</p>

<h2 id="projects">Projects</h2>

<p>Projects are isolated sets of all features - API accesses, cloud storage slots, user accesses. It also have separate billing information and invoices (on paid plans). You are administrator of at least one project which means you have full access to all features and you can eg. add new users to your project - see User management section. By default you can have two projects with administrator rights and unlimited projects as with different role - when somebody will invite you to his project. If you need more project with administrator rights please contact us with description of your needs.</p>

<h2 id="user-management">User management</h2>

<p>As project administrator you can add new users to your project. On the user management view click <code class="prettyprint">Add new</code> then fill in user email and desired permission role. You can select between:
Developer - user will have access to Overview, API accesses, Cloud storage, Live debug
Accountant - user will have access to Overview, Invoices, Reports
You can update user role later or delete user access.</p>

<h2 id="api-accesses">API accesses</h2>

<p>In this view you can create, update and remove API access. In the simplest scenario you can just click <code class="prettyprint">Add new</code> and click <code class="prettyprint">Create</code>. Save generated credentials and your ready to convert documents.
However if you decide to convert documents asynchronously you might want to fill <code class="prettyprint">Callback ping URL</code> to receive information after conversion. Check <code class="prettyprint">Ping notifications</code> section for details. You can also set up <code class="prettyprint">Storage slot</code>. Take a note these two features work in asynchronous mode only.
Api access works only in specified zone.</p>

<h2 id="cloud-storage">Cloud storage</h2>

<p>In this view you can create, update and remove cloud storage slots. We support Amazon S3 and Google GCS now.
These slots will be available in API access options. While setting up new slot we perform test upload to specified bucket to test access. Then we store credentials in encrypted storage.</p>

<h2 id="invoices">Invoices</h2>

<p>List of available invoices. If project is on free plan we do not issue invoice.</p>

<h2 id="reports">Reports</h2>

<p>Aggregated statistics about API access usage - conversions count and data transfer in specified time period.</p>

<h2 id="project-settings">Project settings</h2>

<p>In this view you can set up project name, select plan for project and add business entity information for invoicing.</p>

<h2 id="live-debug">Live debug</h2>

<p>This function works like real time API monitor. It reports all actions that have place in all APIs in current project. Useful for debug purposes especially with asynchronous conversions.</p>

<h2 id="account-settings">Account settings</h2>

<p>You can find this view in user menu in top right window corner. There you can set up your personal settings.</p>

          <h1 id="authentication">Authentication</h1>

<p>Zone api requires authentication. You need to pass following headers</p>

<table><thead>
<tr>
<th>Header</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>X-API-KEY</td>
<td>string</td>
<td>yes</td>
<td>API key</td>
</tr>
<tr>
<td>X-API-SECRET</td>
<td>string</td>
<td>yes</td>
<td>API secret</td>
</tr>
</tbody></table>

<p>Remember to keep your X-API-SECRET private!</p>

<aside class="notice">
You can access API credentials after logging to your <a href="https://panel.pdfsquid.com/">Panel</a>
</aside>

          <h1 id="convert-html-url-to-pdf">Convert HTML/URL to PDF</h1>

<h3 id="api-endpoint">API endpoint</h3>

<p><code class="prettyprint">POST https://[zone].pdfsquid.com/v1/[input_mode]/pdf/[sync]</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>zone</td>
<td>zone name associated to api access</td>
</tr>
<tr>
<td>sync</td>
<td>if passed conversion will be synchronous, asynchronous is default</td>
</tr>
<tr>
<td>input_mode</td>
<td>source from where PDF will be produced. Can be <code class="prettyprint">html</code> or <code class="prettyprint">url</code></td>
</tr>
</tbody></table>

<p>All following parameters are supposed to be passed with POST method. For your convenience these are also grouped by functional context.</p>

<h2 id="input-source">Input source</h2>

<p>Set accordingly to <code class="prettyprint">input_mode</code> in API endpoint.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td>string</td>
<td>yes*</td>
<td>URL to website</td>
</tr>
<tr>
<td>html</td>
<td>string</td>
<td>yes*</td>
<td>HTML source</td>
</tr>
</tbody></table>

<ul>
<li>means that one of the two (<code class="prettyprint">url</code>, <code class="prettyprint">html</code>) is required</li>
</ul>

<h2 id="metadata-options">Metadata options</h2>

<p>These will be visible in document properties.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>string (0:64)</td>
<td>no</td>
<td>PDF title</td>
</tr>
<tr>
<td>subject</td>
<td>string (0:128)</td>
<td>no</td>
<td>PDF subject</td>
</tr>
<tr>
<td>author</td>
<td>string (0:64)</td>
<td>no</td>
<td>PDF author</td>
</tr>
<tr>
<td>creator</td>
<td>string (0:64)</td>
<td>no</td>
<td>PDF creator</td>
</tr>
<tr>
<td>producer</td>
<td>string (0:64)</td>
<td>no</td>
<td>PDF producer</td>
</tr>
<tr>
<td>keywords</td>
<td>string (0:256)</td>
<td>no</td>
<td>PDF keywords (comma separated)</td>
</tr>
</tbody></table>

<h2 id="pdf-options">PDF options</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>margin-bottom</td>
<td>integer</td>
<td>no</td>
<td>PDF page bottom margin (mm), default 0 mm</td>
</tr>
<tr>
<td>margin-right</td>
<td>integer</td>
<td>no</td>
<td>PDF page right margin (mm), default 10 mm</td>
</tr>
<tr>
<td>margin-left</td>
<td>integer</td>
<td>no</td>
<td>PDF page left margin (mm), default 10 mm</td>
</tr>
<tr>
<td>margin-top</td>
<td>integer</td>
<td>no</td>
<td>PDF page top margin (mm), default 0 mm</td>
</tr>
<tr>
<td>orientation</td>
<td>string</td>
<td>no</td>
<td>PDF page orientation (<code class="prettyprint">landscape</code> or <code class="prettyprint">portrait</code>)</td>
</tr>
<tr>
<td>page-size</td>
<td>string</td>
<td>no</td>
<td>PDF page size (<code class="prettyprint">A0</code>,<code class="prettyprint">A1</code>,etc - look at ISO 216), default is <code class="prettyprint">A4</code></td>
</tr>
<tr>
<td>no-background</td>
<td>-</td>
<td>no</td>
<td>Do not print PDF page background</td>
</tr>
<tr>
<td>outline-depth</td>
<td>integer</td>
<td>no</td>
<td>Depth of the outline. Default is 4.</td>
</tr>
<tr>
<td>no-outline</td>
<td>-</td>
<td>no</td>
<td>Do not put an outline into the PDF. Default outline is present.</td>
</tr>
<tr>
<td>pdf-version</td>
<td>numeric (dot separated)</td>
<td>no</td>
<td>Set the desired PDF version</td>
</tr>
</tbody></table>

<h2 id="render-options">Render options</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>disable-javascript</td>
<td>-</td>
<td>no</td>
<td>Disable javascript execution, default is enabled</td>
</tr>
<tr>
<td>watermark-url</td>
<td>string</td>
<td>no</td>
<td>Add watermark to every page. URL should point to image. The image will be streached to page size and centered.</td>
</tr>
<tr>
<td>watermark-opacity</td>
<td>numeric (dot separated)</td>
<td>no</td>
<td>Transparency of the watermark, where 1 means full opaque and 0 means full transparent. Default is 0.5.</td>
</tr>
<tr>
<td>watermark-position</td>
<td>string</td>
<td>no</td>
<td>Set the watermark position, could be <code class="prettyprint">front</code> or <code class="prettyprint">back</code></td>
</tr>
<tr>
<td>convert-forms</td>
<td>-</td>
<td>no</td>
<td>Convert HTML form fields into PDF form fields. Default not converting.</td>
</tr>
<tr>
<td>viewport-size</td>
<td>string</td>
<td>no</td>
<td>Emulate passed window size (eg 1366x768)</td>
</tr>
</tbody></table>

<h2 id="header-footer">Header/footer</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>footer-html</td>
<td>string</td>
<td>no</td>
<td>HTML for footer</td>
</tr>
<tr>
<td>header-html</td>
<td>string</td>
<td>no</td>
<td>HTML for header</td>
</tr>
<tr>
<td>footer-line</td>
<td>-</td>
<td>no</td>
<td>Insert line between page content and footer, default not inserting</td>
</tr>
<tr>
<td>header-line</td>
<td>-</td>
<td>no</td>
<td>Insert line between page content and header, default not inserting</td>
</tr>
<tr>
<td>footer-spacing</td>
<td>integer</td>
<td>no</td>
<td>Footer margin from page content in mm, default <code class="prettyprint">0</code></td>
</tr>
<tr>
<td>header-spacing</td>
<td>integer</td>
<td>no</td>
<td>Header margin from page content in mm, default <code class="prettyprint">0</code></td>
</tr>
<tr>
<td>footer-without-pages</td>
<td>string</td>
<td>no</td>
<td>Specify pages without footer, separated by comma</td>
</tr>
<tr>
<td>header-without-pages</td>
<td>string</td>
<td>no</td>
<td>Specify pages without header, separated by comma</td>
</tr>
</tbody></table>

<aside class="notice">
In footer-html and header-html you can use `{page}` and `{pages}` variables which will be replaced by current page and all pages respectively
</aside>

<h2 id="encryption-options">Encryption options</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pdf-key-length</td>
<td>integer</td>
<td>no</td>
<td>Set PDF encryption key length (40, 128, 256)</td>
</tr>
<tr>
<td>pdf-user-password</td>
<td>string (0:64)</td>
<td>no*</td>
<td>Set user password (cannot manage permissions, strict rights access)</td>
</tr>
<tr>
<td>pdf-owner-password</td>
<td>string (0:64)</td>
<td>no*</td>
<td>Set owner password (full permission management)</td>
</tr>
<tr>
<td>pdf-print</td>
<td>string (yes</td>
<td>no)</td>
<td>no</td>
</tr>
<tr>
<td>pdf-modify</td>
<td>string (yes</td>
<td>no)</td>
<td>no</td>
</tr>
<tr>
<td>pdf-annotate</td>
<td>string (yes</td>
<td>no)</td>
<td>no</td>
</tr>
<tr>
<td>pdf-modify-opt</td>
<td>string</td>
<td>no</td>
<td>Set modification permissions. Values: <code class="prettyprint">all</code>,<code class="prettyprint">annotate</code> (allow comment authoring and form operations), <code class="prettyprint">form</code> (allow form field fill-in and signing), <code class="prettyprint">assembly</code> (allow document assembly only), <code class="prettyprint">none</code>. Values <code class="prettyprint">form</code> and <code class="prettyprint">assembly</code> require <code class="prettyprint">pdf-key-length</code> &gt;= <code class="prettyprint">128</code>. Default <code class="prettyprint">all</code>.</td>
</tr>
<tr>
<td>pdf-extract</td>
<td>string (yes</td>
<td>no)</td>
<td>no</td>
</tr>
<tr>
<td>pdf-cleartext-metadata</td>
<td>-</td>
<td>no</td>
<td>Prevents encryption of metadata. Default metadata is encrypted. Available if <code class="prettyprint">pdf-key-length</code> &gt;= <code class="prettyprint">128</code>.</td>
</tr>
</tbody></table>

<ul>
<li>If setting password both pdf-user-password and pdf-owner-password must be set</li>
</ul>

<aside class="notice">
Specifying pdf-cleartext-metadata forces the PDF version to at least 1.5.
If pdf-key-length is 256, the PDF version will be at least 1.6.
</aside>

<h2 id="request-propagation-authentication">Request propagation/authentication</h2>

<p>Warning: This section applies to URL conversion only!</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pass-post</td>
<td>string-json</td>
<td>no</td>
<td>Key-valued json string with POST data to be passed to URL</td>
</tr>
<tr>
<td>pass-headers</td>
<td>string-json</td>
<td>no</td>
<td>Key-valued json string with headers data to be passed to URL. User-Agent is restricted. These headers will be propagated to every request (eg. images)!</td>
</tr>
<tr>
<td>pass-cookies</td>
<td>string-json</td>
<td>no</td>
<td>Key-valued json string with cookies data to be passed to URL</td>
</tr>
<tr>
<td>http-user</td>
<td>string (0:128)</td>
<td>no</td>
<td>Basic HTTP authentication user</td>
</tr>
<tr>
<td>http-password</td>
<td>string (0:128)</td>
<td>no</td>
<td>Basic HTTP authentication password</td>
</tr>
</tbody></table>

<aside class="notice">
Custom User-Agent in headers propagation is NOT supported
</aside>

          <h1 id="convert-html-url-to-image">Convert HTML/URL to image</h1>

<h3 id="api-endpoint">API endpoint</h3>

<p><code class="prettyprint">POST https://[zone].pdfsquid.com/v1/[input_mode]/img/[sync]</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>zone</td>
<td>zone name associated to api access</td>
</tr>
<tr>
<td>sync</td>
<td>if passed conversion will be synchronous, asynchronous is default</td>
</tr>
<tr>
<td>input_mode</td>
<td>source from where PDF will be produced. Can be <code class="prettyprint">html</code> or <code class="prettyprint">url</code></td>
</tr>
</tbody></table>

<p>All following parameters are supposed to be passed with POST method. For your convenience these are also grouped by functional context.</p>

<h2 id="input-source">Input source</h2>

<p>Set accordingly to <code class="prettyprint">input_mode</code> in API endpoint.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td>string</td>
<td>yes*</td>
<td>URL to website</td>
</tr>
<tr>
<td>html</td>
<td>string</td>
<td>yes*</td>
<td>HTML source</td>
</tr>
</tbody></table>

<ul>
<li>means that one of the two (<code class="prettyprint">url</code>, <code class="prettyprint">html</code>) is required</li>
</ul>

<h2 id="image-format">Image format</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>format</td>
<td>string (jpg</td>
<td>png)</td>
<td>no</td>
</tr>
<tr>
<td>crop-h</td>
<td>integer</td>
<td>no</td>
<td>Set height for croping</td>
</tr>
<tr>
<td>crop-w</td>
<td>integer</td>
<td>no</td>
<td>Set width for croping</td>
</tr>
<tr>
<td>crop-x</td>
<td>integer</td>
<td>no</td>
<td>Set x coordinate for croping</td>
</tr>
<tr>
<td>crop-y</td>
<td>integer</td>
<td>no</td>
<td>Set y coordinate for croping</td>
</tr>
<tr>
<td>quality</td>
<td>integer</td>
<td>no</td>
<td>Output image quality (0-100), default 94</td>
</tr>
</tbody></table>

<h2 id="render-options">Render options</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>disable-javascript</td>
<td>-</td>
<td>no</td>
<td>Disable javascript execution, default is enabled</td>
</tr>
<tr>
<td>watermark-url</td>
<td>string</td>
<td>no</td>
<td>Add watermark to every page. URL should point to image. The image will be streached to page size and centered.</td>
</tr>
<tr>
<td>watermark-opacity</td>
<td>numeric (dot separated)</td>
<td>no</td>
<td>Transparency of the watermark, where 1 means full opaque and 0 means full transparent</td>
</tr>
<tr>
<td>watermark-position</td>
<td>string</td>
<td>no</td>
<td>Set the watermark position, could be <code class="prettyprint">front</code> or <code class="prettyprint">back</code></td>
</tr>
<tr>
<td>viewport-size</td>
<td>string</td>
<td>no</td>
<td>Emulate passed window size (eg 1366x768)</td>
</tr>
</tbody></table>

<h2 id="request-propagation-authentication">Request propagation/authentication</h2>

<p>Warning: This section applies to URL convertion only!</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pass-post</td>
<td>string-json</td>
<td>no</td>
<td>Key-valued json string with POST data to be passed to URL</td>
</tr>
<tr>
<td>pass-headers</td>
<td>string-json</td>
<td>no</td>
<td>Key-valued json string with headers data to be passed to URL. User-Agent is restricted. These headers will be propagated to every request (eg. images)!</td>
</tr>
<tr>
<td>pass-cookies</td>
<td>string-json</td>
<td>no</td>
<td>Key-valued json string with cookies data to be passed to URL</td>
</tr>
<tr>
<td>http-user</td>
<td>string (0:128)</td>
<td>no</td>
<td>Basic HTTP authentication user</td>
</tr>
<tr>
<td>http-password</td>
<td>string (0:128)</td>
<td>no</td>
<td>Basic HTTP authentication password</td>
</tr>
</tbody></table>

<aside class="notice">
Custom User-Agent in headers propagation is NOT supported
</aside>

          <h1 id="ping-notifications">PING notifications</h1>

<p>System sends ping notifications to your system on specified <code class="prettyprint">Callback ping URL</code> after every asynchronous conversion. It is POST request and require HTTP 200-299 response to acknowledge. Any other HTTP response code will result in next trial schedule.</p>

<aside class="warning">
System starts sending notification after all scheduled stages, for example if no cloud storage was selected ping will be send after conversion. If cloud storage was selected ping will be sent after uploading (or after trials limit, see Cloud Storage section)
</aside>

<p>Notification parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>conversion_id</td>
<td>string (UUID)</td>
<td>Conversion id</td>
</tr>
<tr>
<td>type</td>
<td>string (&lsquo;sync&rsquo;, &#39;async&rsquo;)</td>
<td>Type of conversion. Currently only &#39;async&rsquo; type is supported</td>
</tr>
<tr>
<td>status</td>
<td>string (&#39;success&rsquo;, &#39;error&rsquo;)</td>
<td>Conversion result</td>
</tr>
<tr>
<td>notify_trial</td>
<td>integer</td>
<td>Number of ping trial. See below for timing table</td>
</tr>
<tr>
<td>storage</td>
<td>array</td>
<td>array of storage parameters, see below</td>
</tr>
</tbody></table>

<p>Storage parameters:</p>

<p>Parameter | Type | Description |
trial | integer | Number of ping trial. See below for timing table
provider | string (&#39;internal&rsquo;, &#39;gcs&rsquo;, &#39;s3&rsquo;) | Cloud storage provider. <code class="prettyprint">Internal</code> means storage in zone where document is processed, <code class="prettyprint">gcs</code> is Google Cloud Storage, <code class="prettyprint">s3</code> is Amazon S3
status | string (&#39;success&rsquo;, &#39;error&rsquo;) | Upload result
error_code | integer | Error code of upload, see below
error_desc | string | Description of error. Field available when Cloud Storage returns error (only in <code class="prettyprint">gcs</code> and &#39;s3&rsquo;)
url | string | URL to converted file (only in <code class="prettyprint">gcs</code> and &#39;s3&rsquo;)
key | string | Object storage key (only in <code class="prettyprint">gcs</code> and &#39;s3&rsquo;)</p>

<p>Notification timing:</p>

<table><thead>
<tr>
<th>Trial</th>
<th>Time to next trial</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>- (instant)</td>
</tr>
<tr>
<td>2</td>
<td>1 min</td>
</tr>
<tr>
<td>3</td>
<td>3 min</td>
</tr>
<tr>
<td>4</td>
<td>10 min</td>
</tr>
<tr>
<td>5</td>
<td>15 min</td>
</tr>
<tr>
<td>6</td>
<td>30 min</td>
</tr>
<tr>
<td>7</td>
<td>60 min</td>
</tr>
<tr>
<td>8</td>
<td>180 min (3h)</td>
</tr>
<tr>
<td>9</td>
<td>360 min (6h)</td>
</tr>
<tr>
<td>10</td>
<td>720 min (12h)</td>
</tr>
<tr>
<td>11</td>
<td>1440 (24h)</td>
</tr>
</tbody></table>

<p>Error codes:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>10</td>
<td>Uploader temporary not available</td>
</tr>
<tr>
<td>11</td>
<td>Cloud Storage error, description in error_desc field</td>
</tr>
<tr>
<td>12</td>
<td>Cann not get credentials data</td>
</tr>
<tr>
<td>13</td>
<td>General uploader error</td>
</tr>
<tr>
<td>14</td>
<td>General uploader error</td>
</tr>
<tr>
<td>15</td>
<td>General uploader error</td>
</tr>
</tbody></table>

          <h1 id="document-storage">Document storage</h1>

<p>This section applies to asynchronous conversions only.</p>

<p>PDFsquid supports following storage providers:</p>

<ul>
<li>Amazon S3 (s3)</li>
<li>Google Cloud Storage (gcs)</li>
<li>Internal</li>
</ul>

<h2 id="cloud-storage-providers">Cloud storage providers</h2>

<p>For s3 and gcs storage converted files are uploaded to specified buckets defined in dashboard. You can download them after receiving ping notification or try direct download (take into account that without ping you do not really know when the file will be available). Key for object file will be:
conversion id + &rsquo;.&rsquo; + file format (pdf, png, jpg)
for example:
<code class="prettyprint">43fd74e5-bee0-4bac-a356-ba57a0a6b540.pdf</code></p>

<p>If any error occurs during uploading, following upload trial table applies:</p>

<table><thead>
<tr>
<th>Trial</th>
<th>Time to next trial</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>- (instant)</td>
</tr>
<tr>
<td>2</td>
<td>1 min</td>
</tr>
<tr>
<td>3</td>
<td>3 min</td>
</tr>
<tr>
<td>4</td>
<td>10 min</td>
</tr>
<tr>
<td>5</td>
<td>15 min</td>
</tr>
<tr>
<td>6</td>
<td>30 min</td>
</tr>
<tr>
<td>7</td>
<td>60 min</td>
</tr>
<tr>
<td>8</td>
<td>180 min (3h)</td>
</tr>
<tr>
<td>9</td>
<td>360 min (6h)</td>
</tr>
<tr>
<td>10</td>
<td>720 min (12h)</td>
</tr>
<tr>
<td>11</td>
<td>1440 (24h)</td>
</tr>
</tbody></table>

<h2 id="internal-storage">Internal storage</h2>

<p>To download file from internal storage perform following API request:</p>

<p><code class="prettyprint">POST https://[zone].pdfsquid.com/v1/getfile/[conversion_id]</code></p>

<p>Response headers:</p>

<table><thead>
<tr>
<th>Header name</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>content-disposition</td>
<td>attachment; filename=[conversion_id].[file_format]</td>
</tr>
<tr>
<td>content-transfer-encoding</td>
<td>binary</td>
</tr>
<tr>
<td>content-type</td>
<td>[according content type for file format]</td>
</tr>
<tr>
<td>output-format</td>
<td>[file_format]</td>
</tr>
<tr>
<td>conversion-id</td>
<td>[conversion_id]</td>
</tr>
</tbody></table>

<p>File will be removed after 48 hours from conversion or after downloading.</p>

          <h1 id="examples">Examples</h1>

<h2 id="footer-header-html">Footer/header HTML</h2>

<p>This is samle footer with dynamic page evaluation. Take a notice of mandatory <code class="prettyprint">&lt;!DOCTYPE html&gt;</code>.</p>
<pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body</span> <span class="na">style=</span><span class="s">"text-align:center;"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h3&gt;</span>Sample footer on page {page}/{pages}<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>

<h2 id="page-composition">Page composition</h2>

<p>PDFsquid supports page break controlling feature. In your HTML code just add any of the following css attributes:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Possible values</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page-break-after</td>
<td>auto, always, avoid</td>
<td>Controls page break behavior after this HTML tag</td>
</tr>
<tr>
<td>page-break-before</td>
<td>auto, always, avoid</td>
<td>Controls page break behavior before this HTML tag</td>
</tr>
<tr>
<td>page-break-inside</td>
<td>auto</td>
<td>avoid</td>
</tr>
</tbody></table>

<p>Example:</p>
<pre class="highlight html"><code><span class="nt">&lt;h1&gt;</span>Page 1<span class="nt">&lt;h1&gt;</span>
<span class="nt">&lt;h1</span> <span class="na">style=</span><span class="s">"page-break-before:always"</span><span class="nt">&gt;</span>Page 2<span class="nt">&lt;h1&gt;</span>
</code></pre>

          <h1 id="errors">Errors</h1>

<aside class="notice">Error codes</aside>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
